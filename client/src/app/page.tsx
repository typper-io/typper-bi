import Link from 'next/link'
import { getServerSession } from 'next-auth'
import { redirect } from 'next/navigation'

import { UserAuthForm } from '@/components/user-auth-form'
import authOptions from '@/app/api/auth/[...nextauth]/authOptions'

export default async function AuthenticationPage() {
  const session = await getServerSession(authOptions())

  if (session?.user) {
    return redirect('/app/chat')
  }

  return (
    <>
      <div className="container relative h-screen flex-col items-center justify-center grid lg:max-w-none lg:grid-cols-2 lg:px-0 bg-background">
        <div className="relative hidden h-full flex-col p-10 lg:flex justify-between bg-accent/50">
          <svg
            width="120"
            height="39"
            viewBox="0 0 120 39"
            fill="none"
            className="dark:hidden block"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_3914_4796)">
              <path
                d="M114.243 0.157102L115.345 3.75432L118.386 1.2793L119.703 3.49247L116.645 5.09177L119.912 6.95662L118.287 8.998L115.581 6.70817L115.559 10.1595L112.894 10.0031L113.754 6.34668L110.509 7.46105L109.865 4.97798L113.671 4.48085L111.808 1.21387L114.243 0.157102Z"
                fill="#1E1E1E"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M47.9746 10.0793C45.7583 10.0793 43.5031 11.0955 42.2589 13.0888V10.6542L38.8775 10.6542C38.8775 10.6542 38.0396 11.3241 36.8108 13.3616C35.7873 15.0587 35.5043 15.7547 35.1658 16.5875C35.0979 16.7545 35.0278 16.9271 34.949 17.1143V31.3797C34.949 33.7957 34.1515 36.5996 33.8539 37.6461C33.7856 37.8862 33.7437 38.0337 33.7437 38.0629H43.4642C43.4642 38.0337 43.4222 37.8862 43.354 37.6461C43.0563 36.5996 42.2589 33.7957 42.2589 31.3797V28.0576C43.8919 30.0509 46.0305 30.6762 47.6635 30.6762C51.3962 30.6762 55.6344 27.4323 55.6344 20.1237C55.6344 13.2842 51.9406 10.0793 47.9746 10.0793ZM42.2587 26.5334C43.0364 26.9243 43.6974 27.0415 44.2417 27.0415C47.1579 27.0415 47.7411 23.4068 47.7411 20.1238C47.7411 17.0753 47.0024 14.2222 44.3973 14.2222C43.7752 14.2222 43.0364 14.3786 42.2587 14.8476V26.5334Z"
                fill="#1E1E1E"
              />
              <path
                d="M55.8358 13.6408C57.3406 10.7311 59.6919 10.043 61.9033 10.043C65.8606 10.043 69.5464 13.2554 69.5464 20.1112C69.5464 27.4372 65.3175 30.6888 61.5929 30.6888C59.9634 30.6888 57.8296 30.062 56.2001 28.064V31.394C56.2001 34.3714 57.4028 37.9364 57.4028 38.0931H48.5903V32.3298C49.287 32.3298 51.1151 31.7031 52.9655 30.4273C54.5539 29.0844 55.347 27.5382 55.8358 26.3985C56.7275 27.0454 57.7865 27.0454 58.346 27.0454C61.2558 27.0454 61.8377 23.402 61.8377 20.1112C61.8377 17.0555 61.1006 14.1956 58.5012 14.1956C57.8804 14.1956 57.1133 14.2059 56.3374 14.676L55.8358 13.6408Z"
                fill="#1E1E1E"
              />
              <path
                d="M100.64 14.8544V10.7026H92.1143C92.1143 10.855 93.321 14.3211 93.321 17.2159V23.615C93.321 26.5098 92.1143 29.9759 92.1143 30.1282L101.846 30.1282C101.846 29.9759 100.64 26.5098 100.64 23.615V15.8447C103.559 14.4354 106.128 16.3399 107.724 18.1682H107.919L109.731 10.4528C105.06 8.96736 102.041 11.7691 100.64 14.8544Z"
                fill="#1E1E1E"
              />
              <path
                d="M10.1426 10.6656V3.3479C8.09384 6.3877 4.63755 10.6656 0 10.6656V12.6001H2.85785V23.6186C2.85785 27.0392 4.09065 30.9363 8.7977 30.9363C13.9811 30.9363 16.8109 27.3195 16.8109 23.6186H14.4574C14.4574 24.628 13.8129 26.0859 12.356 26.0859C10.518 26.0859 10.1145 24.4411 10.1426 23.6186V12.6001H14.0091L15.2979 10.6656H10.1426Z"
                fill="#1E1E1E"
              />
              <path
                d="M16.1201 12.1306L17.1281 10.6199H26.3118C26.0225 11.1887 25.6077 12.5373 25.5279 13.3615C25.4439 14.2288 25.5839 14.9841 25.8359 15.5157L28.8598 21.6984L31.5197 15.5157C31.6877 15.0121 31.7717 14.3015 31.7717 13.3615C31.7717 12.4215 31.1184 11.1421 30.7917 10.6199H36.6156C36.4383 10.7784 35.9156 11.364 35.2436 12.4383C34.5716 13.5126 33.937 14.751 33.7037 15.2359L26.7038 31.1823C26.7038 31.1823 25.1079 36.2459 20.488 36.2459C18.2929 36.2459 16.9228 35.7423 16.2601 35.4066L17.6321 29.112C18.5467 30.343 20.4208 32.2733 22.392 32.2733C24.3631 32.2733 25.1545 30.688 25.3039 29.8954C23.0359 25.2793 18.3433 15.7451 17.7161 14.5365C17.0889 13.328 16.3908 12.429 16.1201 12.1306Z"
                fill="#1E1E1E"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M84.2926 30.3896C85.3412 30.1536 87.0988 29.5855 88.8375 28.0489C90.9072 26.2197 91.6834 23.9041 91.6463 22.9469H89.6162C89.6162 22.9469 89.6582 23.8051 88.615 24.7591C87.0932 26.1509 85.2126 25.9752 83.982 25.8603C83.9781 25.8599 83.9743 25.8596 83.9704 25.8592C81.025 25.4016 79.7356 23.1198 79.3067 19.962H91.654C91.654 15.3972 89.4491 9.92725 81.8323 9.92725C75.378 9.92725 70.9282 13.6657 70.9282 20.2768C70.9282 27.6357 76.6609 30.7051 81.6319 30.7051C82.5898 30.7051 83.4766 30.5911 84.2926 30.3896ZM84.2777 17.3648C84.2777 15.0037 84.0773 11.7374 81.712 11.7374C79.3869 11.7374 79.0662 14.9643 79.1063 17.4041C79.1063 17.9157 79.1464 18.4272 79.1864 18.9388L79.1865 18.9389L84.2777 17.3648Z"
                fill="#1E1E1E"
              />
            </g>
            <defs>
              <clipPath id="clip0_3914_4796">
                <rect width="120" height="38.093" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <svg
            width="120"
            height="39"
            viewBox="0 0 120 39"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="hidden dark:block"
          >
            <g clipPath="url(#clip0_3914_4735)">
              <path
                d="M114.243 0.157102L115.345 3.75432L118.386 1.2793L119.703 3.49247L116.645 5.09177L119.912 6.95662L118.287 8.998L115.581 6.70817L115.559 10.1595L112.894 10.0031L113.754 6.34668L110.509 7.46105L109.865 4.97798L113.671 4.48085L111.808 1.21387L114.243 0.157102Z"
                fill="#FBFFF6"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M47.9746 10.0793C45.7583 10.0793 43.5031 11.0955 42.2589 13.0888V10.6542L38.8775 10.6542C38.8775 10.6542 38.0396 11.3241 36.8108 13.3616C35.7873 15.0587 35.5043 15.7547 35.1658 16.5875C35.0979 16.7545 35.0278 16.9271 34.949 17.1143V31.3797C34.949 33.7957 34.1515 36.5996 33.8539 37.6461C33.7856 37.8862 33.7437 38.0337 33.7437 38.0629H43.4642C43.4642 38.0337 43.4222 37.8862 43.354 37.6461C43.0563 36.5996 42.2589 33.7957 42.2589 31.3797V28.0576C43.8919 30.0509 46.0305 30.6762 47.6635 30.6762C51.3962 30.6762 55.6344 27.4323 55.6344 20.1237C55.6344 13.2842 51.9406 10.0793 47.9746 10.0793ZM42.2587 26.5334C43.0364 26.9243 43.6974 27.0415 44.2417 27.0415C47.1579 27.0415 47.7411 23.4068 47.7411 20.1238C47.7411 17.0753 47.0024 14.2222 44.3973 14.2222C43.7752 14.2222 43.0364 14.3786 42.2587 14.8476V26.5334Z"
                fill="#FBFFF6"
              />
              <path
                d="M55.8358 13.6408C57.3406 10.7311 59.6919 10.043 61.9033 10.043C65.8606 10.043 69.5464 13.2554 69.5464 20.1112C69.5464 27.4372 65.3175 30.6888 61.5929 30.6888C59.9634 30.6888 57.8296 30.062 56.2001 28.064V31.394C56.2001 34.3714 57.4028 37.9364 57.4028 38.0931H48.5903V32.3298C49.287 32.3298 51.1151 31.7031 52.9655 30.4273C54.5539 29.0844 55.347 27.5382 55.8358 26.3985C56.7275 27.0454 57.7865 27.0454 58.346 27.0454C61.2558 27.0454 61.8377 23.402 61.8377 20.1112C61.8377 17.0555 61.1006 14.1956 58.5012 14.1956C57.8804 14.1956 57.1133 14.2059 56.3374 14.676L55.8358 13.6408Z"
                fill="#FBFFF6"
              />
              <path
                d="M100.64 14.8544V10.7026H92.1143C92.1143 10.855 93.321 14.3211 93.321 17.2159V23.615C93.321 26.5098 92.1143 29.9759 92.1143 30.1282L101.846 30.1282C101.846 29.9759 100.64 26.5098 100.64 23.615V15.8447C103.559 14.4354 106.128 16.3399 107.724 18.1682H107.919L109.731 10.4528C105.06 8.96736 102.041 11.7691 100.64 14.8544Z"
                fill="#FBFFF6"
              />
              <path
                d="M10.1426 10.6656V3.3479C8.09384 6.3877 4.63755 10.6656 0 10.6656V12.6001H2.85785V23.6186C2.85785 27.0392 4.09065 30.9363 8.7977 30.9363C13.9811 30.9363 16.8109 27.3195 16.8109 23.6186H14.4574C14.4574 24.628 13.8129 26.0859 12.356 26.0859C10.518 26.0859 10.1145 24.4411 10.1426 23.6186V12.6001H14.0091L15.2979 10.6656H10.1426Z"
                fill="#FBFFF6"
              />
              <path
                d="M16.1201 12.1306L17.1281 10.6199H26.3118C26.0225 11.1887 25.6077 12.5373 25.5279 13.3615C25.4439 14.2288 25.5839 14.9841 25.8359 15.5157L28.8598 21.6984L31.5197 15.5157C31.6877 15.0121 31.7717 14.3015 31.7717 13.3615C31.7717 12.4215 31.1184 11.1421 30.7917 10.6199H36.6156C36.4383 10.7784 35.9156 11.364 35.2436 12.4383C34.5716 13.5126 33.937 14.751 33.7037 15.2359L26.7038 31.1823C26.7038 31.1823 25.1079 36.2459 20.488 36.2459C18.2929 36.2459 16.9228 35.7423 16.2601 35.4066L17.6321 29.112C18.5467 30.343 20.4208 32.2733 22.392 32.2733C24.3631 32.2733 25.1545 30.688 25.3039 29.8954C23.0359 25.2793 18.3433 15.7451 17.7161 14.5365C17.0889 13.328 16.3908 12.429 16.1201 12.1306Z"
                fill="#FBFFF6"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M84.2926 30.3896C85.3412 30.1536 87.0988 29.5855 88.8375 28.0489C90.9072 26.2197 91.6834 23.9041 91.6463 22.9469H89.6162C89.6162 22.9469 89.6582 23.8051 88.615 24.7591C87.0932 26.1509 85.2126 25.9752 83.982 25.8603C83.9781 25.8599 83.9743 25.8596 83.9704 25.8592C81.025 25.4016 79.7356 23.1198 79.3067 19.962H91.654C91.654 15.3972 89.4491 9.92725 81.8323 9.92725C75.378 9.92725 70.9282 13.6657 70.9282 20.2768C70.9282 27.6357 76.6609 30.7051 81.6319 30.7051C82.5898 30.7051 83.4766 30.5911 84.2926 30.3896ZM84.2777 17.3648C84.2777 15.0037 84.0773 11.7374 81.712 11.7374C79.3869 11.7374 79.0662 14.9643 79.1063 17.4041C79.1063 17.9157 79.1464 18.4272 79.1864 18.9388L79.1865 18.9389L84.2777 17.3648Z"
                fill="#FBFFF6"
              />
            </g>
            <defs>
              <clipPath id="clip0_3914_4735">
                <rect width="120" height="38.093" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <p className="uppercase z-10 font-bold text-4xl leading-[54px] tracking-[2.88px]">
            The next level of Business Intelligence and Data Analysis.
          </p>
        </div>
        <div className="lg:p-8">
          <div className="mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]">
            <div className="flex flex-col space-y-2 text-center">
              <h1 className="text-2xl font-semibold tracking-tight">
                Login or Create an account
              </h1>
            </div>
            <UserAuthForm />
            <p className="px-8 text-center text-sm text-muted-foreground">
              By continue, you agree to our{' '}
              <Link
                href="https://typper.notion.site/typper/Terms-of-Service-7e5f375b1c534f6588d0561cb46b04b3"
                className="underline underline-offset-4 hover:text-primary"
              >
                Terms of Service
              </Link>{' '}
              and{' '}
              <Link
                href="https://typper.notion.site/typper/Privacy-Policy-476b178ebccc4e4389f150d736b92f6a"
                className="underline underline-offset-4 hover:text-primary"
              >
                Privacy Policy
              </Link>
              .
            </p>
          </div>
        </div>
      </div>
    </>
  )
}
